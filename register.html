<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô IT - ‡∏£‡∏û.‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ</title>
    <link rel="stylesheet" href="style.css?v=9.9">
</head>
<body>
    <div id="loader" class="loader-overlay"><div class="spinner"></div></div>

    <div class="login-wrapper">
        <div class="login-header">
            <img src="https://img2.pic.in.th/-227e4f6f84f29f020.png" class="header-logo">
            <h2>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ</h2>
            <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà IT</p>
        </div>

        <div class="login-card">
            <div class="form-group">
                <label>üÜî USERID (‡πÑ‡∏≠‡∏î‡∏µ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô)</label>
                <input type="text" id="USERID" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏≠‡∏î‡∏µ">
            </div>
            <div class="form-group">
                <label>üìß UserMail (‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏£‡∏±‡∏ö‡∏£‡∏´‡∏±‡∏™)</label>
                <input type="email" id="UserMail" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á">
            </div>
            <div style="display: flex; gap: 10px;">
                <div class="form-group" style="flex: 1;">
                    <label>üë§ UserName (‡∏ä‡∏∑‡πà‡∏≠)</label>
                    <input type="text" id="UserName" placeholder="‡∏ä‡∏∑‡πà‡∏≠">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>üë• UserSname (‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•)</label>
                    <input type="text" id="UserSname" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•">
                </div>
            </div>
            <div class="form-group">
                <label>üõ†Ô∏è UserTypeName (‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á)</label>
                <select id="UserTypeName">
                    <option value="‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå">üîß ‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                    <option value="‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå">üíª ‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡∏ä‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå</option>
                    <option value="‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô IT">üíº ‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô IT</option>
                </select>
            </div>
            <button onclick="handleRegister()" class="btn-login" id="submitBtn">üì© ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏≤‡∏á‡πÄ‡∏°‡∏•</button>
        </div>
    </div>

    <script src="js/main.js"></script>
    <script>
        async function handleRegister() {
            const btn = document.getElementById('submitBtn');
            const data = {
                action: 'registerIT',
                USERID: document.getElementById('USERID').value,
                UserMail: document.getElementById('UserMail').value,
                UserName: document.getElementById('UserName').value,
                UserSname: document.getElementById('UserSname').value,
                UserTypeName: document.getElementById('UserTypeName').value
            };

            if(!data.USERID || !data.UserMail || !data.UserName) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");

            document.getElementById('loader').style.display = 'flex';
            btn.disabled = true;

            try {
                const res = await apiRequest(data);
                if (res.success) {
                    alert("‚úÖ ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ä‡πá‡∏Ñ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏ô‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì");
                    window.location.href = "login.html";
                }
            } catch (e) {
                alert("‚ùå ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL ‡πÉ‡∏ô main.js ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÉ‡∏ô Google Script");
            } finally {
                document.getElementById('loader').style.display = 'none';
                btn.disabled = false;
            }
        }
    </script>
</body>
</html>
